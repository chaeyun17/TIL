# 강의 노트
- 일시: 21.11.04 (목) 19:30~10:30
- 강사: 박재성
- 교육: 우아한테크코스 프로 3기 1주차 강의

## 메모
- TDD를 시작전에 요구사항과 기능정리가 명확해야 한다.
- 도메인 설계를 먼저 하고 1:N 등 간략하게 하고 TDD를 진행해야 한다. 최소한의 설계는 필요하다.
- 상태값을 가지는 도메인 객체에 로직이 들어가야 TDD가 가능해진다.
- 서비스 로직에는 비지니스에 대한 로직만 들어가야 한다.
- 테스트가 어려운 부분은 OBJECT GRAPH의 최상단으로 이동시킨다.
  - RANDOM 값등
  - 파라미터나 외부로부터 주입 받는다.
- 테스트하기 쉬운 코드부터 시작해서 정말 어려운 부분은 구조를 변경한다.
- 컴파일 에러를 최소화하면서 리팩토링해봐라
  - getRandomNumber private 메소드를 protoected 로 바꿔서 사용하는 곳에서 override 재구현
  - 이렇 중간단계를 하면 점진적으로 리팩토링을 할 수 있다. mock을 사용하지 않아도 된다.
- 클래스 이름 짓기가 어려우면 TDD가 있으면 막 지어도 된다. 왜냐하면 리팩토링을 보장하기 때문이다.
  - 우선 빠르게 실패하는 테스트를 먼저 작성한다.
- TDD는 무조건 첫번째는 컴파일에러가 발생할 수 밖에 없다. 첫번쨰 과제는 컴파일 에러를 제거하는 것이다.
- 데이터타입보다 객체 개념으로 생각하기.
  - 그래서 상태값이 있으면 equals and hashcode 가 필수다.
- 상태값을 Get 하지 말고 메시지를 보내라. 또, 클래스 범위는 작게. 잘게 분리하라. 이것만해도 많이 도움 된다.
  - int getNumber() -> boolean movable()
- 처음부터 패키지와 인터페이스를 만들지말고, 점진적으로 확장해야 오버엔지니어링에 빠지지 않는다.
  - 인터페이스는 구현체들이 많아질때 만들어도 된다.
- 테스트를 위해 생성자를 추가하는 것은 괜찮다. 메서드가 추가되는 것은 안된다.
- 모든 원시값과 문자열을 포장한다 / 콜렉션을 사용한다 원칙
  - 클래스로 잘게 쪼갤 수 밖에 없게 된다.
  - 자꾸 작은 클래스로 쪼개봐라
- 클래스 분리는 메서드 분리보다 몇 배 더 힘들다
  - 자꾸 작은 클래스로 쪼개봐라. 
  - Getter 를 최소화할 수 있다.
- 최대한 불변객체로 도전. 객체를 리턴할때는 불변객체로.
  - 불변객체를 쓰면 버그를 방지할 수 있다.